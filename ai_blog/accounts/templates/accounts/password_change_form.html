{% extends 'blog/base.html' %}

{% block title %}Change Password{% endblock %}

{% block content %}
  <div class="container mt-4">
    <h2>Change Password</h2>
    <p>Please enter your old password and your new password twice.</p>
    <form method="post" action="{% url 'accounts:password_change' %}" class="mt-3">
      {% csrf_token %}
      {% if form.non_field_errors %}
        <div class="alert alert-danger" role="alert">
          {% for error in form.non_field_errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}

      <div class="mb-3">
        <label for="{{ form.old_password.id_for_label }}" class="form-label">Old Password</label>
        {{ form.old_password }}
        {% if form.old_password.errors %}
          <div class="invalid-feedback d-block">
            {{ form.old_password.errors.0 }}
          </div>
        {% endif %}
      </div>

      <div class="mb-3">
        <label for="{{ form.new_password1.id_for_label }}" class="form-label">New Password</label>
        {{ form.new_password1 }}
        {% if form.new_password1.errors %}
          <div class="invalid-feedback d-block">
            {{ form.new_password1.errors.0 }}
          </div>
        {% endif %}
        <small class="form-text text-muted">
          Your password must be at least 8 characters long and should not be too similar to your other personal information.
        </small>
      </div>

      <div class="mb-3">
        <label for="{{ form.new_password2.id_for_label }}" class="form-label">Confirm New Password</label>
        {{ form.new_password2 }}
        {% if form.new_password2.errors %}
          <div class="invalid-feedback d-block">
            {{ form.new_password2.errors.0 }}
          </div>
        {% endif %}
      </div>

      <button type="submit" class="btn btn-primary">Change Password</button>
    </form>
  </div>
{% endblock %}